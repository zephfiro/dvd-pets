<html>

<head>
  <title>Meu Jogo Clicker de Pets</title>
</head>

<body>
  <h1>Meu Jogo Clicker de Pets</h1>
  <p>Clique na árvore para regá-la</p>
  <div id="tree"></div>
  <p>Você regou a árvore <span id="count">0</span> vezes</p>
  <div id="pets"></div>
  <p>Pontuação: <span id="score">0</span></p>
  <script>
    // seleciona a árvore
    const tree = document.querySelector("#tree");

    // seleciona o contador de regadas
    const count = document.querySelector("#count");

    // seleciona a div de pets
    const pets = document.querySelector("#pets");

    // seleciona a pontuação
    const score = document.querySelector("#score");

    // inicia o contador de regadas como 0
    let regadas = 0;

    // inicia a pontuação como 0
    let pontos = 0;

    // adiciona um evento de clique na árvore
    tree.addEventListener("click", function () {
      regadas++;
      count.innerHTML = regadas;

      // verifica se a árvore foi regada 15 vezes
      if (regadas % 15 === 0) {
        // cria um novo pet e adiciona na tela
        const pet = document.createElement("div");
        pet.classList.add("pet");
        pets.appendChild(pet);

        // anima o pet através da tela
        let x = 0;
        let y = 0;
        let directionX = 1;
        let directionY = 1;
        const id = setInterval(frame, 10);
        function frame() {
          // atualiza a posição do pet
          x += directionX;
          y += directionY;
          pet.style.left = x + "px";
          pet.style.top = y + "px";

          // verifica se o pet chegou a uma extremidade da tela
          if (x === 0 || x === window.innerWidth - 50) {
            directionX *= -1;
          }
          if (y === 0 || y === window.innerHeight - 50) {
            directionY *= -1;
          }
        }

        // adiciona um ponto por segundo para a pontuação
        setInterval(function () {
          pontos++;
          score.innerHTML = pontos;
        }, 1000);
      }
    });
  </script>
  <style>
    #tree {
      width: 50px;
      height: 80px;
      background-color: green;
      position: relative;
    }
  </style>
</body>
